<!-- ======= Main ======= -->
<main id="main" class="main">

    <section class="section dashboard">
        <div class="row">

            <!-- Left side columns -->
            <div class="col-lg-8">
                <div class="row">

                    <div class="col-lg-12">

                        <div class="card ">

                            <div class="card-body tableproduct" style="height: 135px;">

                                <table class="table">
                                    <tbody>
                                        <tr ng-repeat="bill in bills">
                                            <th scope="row">{{ bill.code }}</th>
                                            <td>{{ bill.user.username }}</td>
                                            <td>{{ bill.customer.fullname }}</td>
                                            <td>
                                                <a href="" ng-click="deleteBillId(bill.id)"><i
                                                        class="bi bi-trash"></i></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                            </div>
                            <div class="card-body" style="padding: 10px;">
                                <a href="#" ng-click="addBill()" class="btn btn-primary">
                                    Tạo hóa đơn
                                </a>
                                <button class="btn btn-primary">Thanh toán</button>
                            </div>

                        </div>

                        <!-- End Right side columns -->

                    </div>

                    <div class="col-lg-12">

                        <div class="card tableproduct">
                            <div class="card-body">

                                <div class="search-bar">
                                    <form class="search-form d-flex align-items-center">
                                        <input type="text" ng-model="query" ng-change="search()"
                                            placeholder="Tìm hàng hóa" title="Tìm sản phẩm theo tên">
                                    </form>
                                </div><!-- End Search Bar -->

                                <div ng-show="showProducts" class="list-group product-list">
                                    <div class="table-wrapper">
                                        <table class="table">
                                            <tbody>
                                                <tr ng-repeat="product in products | filter: query">
                                                    <td><img src="" alt="seach" width="10%"></td>
                                                    <td> {{ product.code }} <br>
                                                        {{ product.name }} <br>
                                                        Tồn: {{ product.quantity }}
                                                    </td>
                                                    <td>{{ product.price }}</td>
                                                    <td><a href="" class="btn btn-primary">add</a></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <table class="table table-borderless">
                                    <tbody>
                                        <tr ng-repeat="item in cartItems">
                                            <th scope="row">{{ item.code }}</th>
                                            <td><a href="#" class="text-primary">{{ item.name }}</a></td>
                                            <td>
                                                <i class="bi bi-dash-circle" ng-click="decrement(item)"></i>
                                                <input type="number" name="quantity" min="1" value="{{ item.quantity }}"
                                                    class="table-quantity text-center" ng-model="item.quantity">
                                                <i class="bi bi-plus-circle" ng-click="increment(item)"></i>
                                            </td>
                                            <td>{{ item.price }}</td>
                                            <td>
                                                <a href="#"><i class="bi bi-trash"></i></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                            </div>

                        </div>

                    </div>

                </div>
            </div>
            <!-- End Left side columns -->


            <!-- Right side columns -->
            <div class="col-lg-4">
                <div class="row">

                    <div class="col-lg-12">

                        <div class="card">

                            <div class="card-body card-body-ttbh">
                                <h5 class="card-title">{{user.fullname}}<span> | {{ currentDate | date:'dd/MM/yyyy' }} {{
                                        currentTime |
                                        date:'HH:mm' }}</span></h5>

                                <hr>

                                <form action="" class="row g-3">                  
                                    <div class="row">
                                        <div class="col-md-5">
                                            <label for="" class="form-label">Tổng tiền hàng</label>
                                        </div>
                                        <div class="col-md-5">
                                            <label for="" class="form-label"> {{ getTotalQuantity() }} </label>
                                        </div>
                                        <div class="col-md-2">
                                            <label for="" class="form-label"> {{ accumulatedPrice }} </label>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-10">
                                            <label for="" class="form-label">Khách cần trả</label>
                                        </div>
                                        <div class="col-md-2">
                                            <label for="" class="form-label">{{ khachCanTra() }}</label>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-9">
                                            <label for="" class="form-label">Khách thanh toán</label>
                                        </div>
                                        <div class="col-md-3">
                                            <input type="text" name="khachthanhtoan" id="khachthanhtoan"
                                                ng-model="khachThanhToan" ng-keypress="isNumberKey($event)">
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-10">
                                            <label for="" class="form-label">Tiền thừa trả khách</label>
                                        </div>
                                        <div class="col-md-2">
                                            <label for="" class="form-label">{{ tinhTienThua() }}</label>
                                        </div>
                                    </div>


                                </form>

                            </div>

                        </div>

                    </div>

                </div>
            </div>
            <!-- End Right side columns -->

        </div>


    </section>

</main>
<!-- End #main -->